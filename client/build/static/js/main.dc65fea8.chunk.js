(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{246:function(e,a,t){e.exports=t(453)},251:function(e,a,t){},275:function(e,a){},277:function(e,a){},319:function(e,a){},320:function(e,a){},452:function(e,a,t){},453:function(e,a,t){"use strict";t.r(a);var n=t(1),i=t.n(n),l=t(109),s=t.n(l),c=(t(251),t(26)),r=t(30),o=t.n(r),m=t(61),p=t(110),u=function(e,a){return function(t){t({payload:{ship:e,faction:a},type:"LOAD_ONE_SHIP"})}},d=function(e,a){return function(t){t({payload:{ship:e,faction:a},type:"UPDATE_ONE_SHIP"})}},h=Object(c.b)(null,{loadAllShips:function(){return function(){var e=Object(m.a)(o.a.mark((function e(a){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("/ships/selected",{faction:"allies",ships:["All"]},{headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,p.post("/ships/selected",{faction:"axis",ships:["All"]},{headers:{"Content-Type":"application/json"}});case 5:n=e.sent,t=t.data,n=n.data,a({payload:{axis:n,allies:t},type:"LOAD_IN_SHIPS"});case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}})((function(e){var a=e.loadAllShips;return Object(n.useEffect)((function(){a()}),[]),i.a.createElement("div",{className:"header"},i.a.createElement("span",{className:"first-half"},i.a.createElement("b",null,"War At Sea")),i.a.createElement("span",{className:"second-half"}," ","List Generator"))})),f=t(29),E=function(e,a){return function(t){t("allies"===e?{payload:a,type:"SET_ALLIES_POINTS"}:{payload:a,type:"SET_AXIS_POINTS"})}},b=Object(c.b)((function(e){return{points:e.points,allShips:e.allShips,userSelection:e.userSelection,alliesPoints:e.factionPoints.allies,axisPoints:e.factionPoints.axis,shipsInPlay:e.shipsInPlay}}),{setPoints:function(e){return function(a){a({payload:e,type:"SET_POINTS"})}},loadOneShip:u,updateOneShip:d,setFactionPoints:E,removeShips:function(){return function(e){e({payload:{},type:"REMOVE_SHIP"})}}})((function(e){var a=e.setPoints,t=e.allShips,l=e.userSelection,s=e.alliesPoints,c=e.axisPoints,r=e.points,o=e.shipsInPlay,m=e.loadOneShip,p=(e.updateOneShip,e.setFactionPoints),u=e.removeShips,d=Object(n.useState)(""),h=Object(f.a)(d,2),E=h[0],b=h[1];return Object(n.useEffect)((function(){a(E)}),[E]),i.a.createElement("div",{className:"points-wrapper"},i.a.createElement("input",{type:"number",value:E,name:"points",onChange:function(e){return function(e){e&&e.target.value?(b(e.target.value),r=e.target.value):e&&!e.target.value&&(b(""),r=0)}(e)},className:"point-wrapper-placeholder",placeholder:"Point Limit"}),i.a.createElement("button",{className:"RANDOM",onClick:function(e){return function(){var e=0;o.allies.forEach((function(a){if(0==a.locked){var n=t.filter((function(e){return e.name===a.name}));e-=n[0].points,s-=n[0].points}}));var a,n=0;o.axis.forEach((function(e){if(0==e.locked){var a=t.filter((function(a){return a.name===e.name}));n-=a[0].points,c-=a[0].points}})),p("allies",e),p("axis",n),u(),a="All"===l.allies[0]?t.filter((function(e){var a=e.nation;return-1===["Italy","Finland","Japan","Germany","Axis Neutral/Instalations"].indexOf(a)})):t.filter((function(e){return-1!==l.allies.indexOf(e.nation)}));for(var i=0,d=function(){i++;var e=Math.floor(Math.random()*a.length);if(s+a[e].points>r)a.splice(e,1);else{var n=0,l=o.allies.filter((function(t){return t.name==a[e].name}));console.log(o.allies),console.log(a[e].name),console.log(l),l.length>0&&(n=l.length);var c=t.filter((function(t){return t.name==a[e].name}));(c=c[0].number_available)==n?a.splice(e,1):0===n?(m(a[e].name,"allies"),p("allies",a[e].points),s+=a[e].points,o.allies.push({name:a[e].name,secretName:a[e].name+" 0",locked:!1})):(m(a[e].name,"allies"),p("allies",a[e].points),s+=a[e].points,o.allies.push({name:a[e].name,secretName:a[e].name+" ".concat(n),locked:!1}))}};s<r&&a.length>0&&i<10*t.length;)d();a="All"===l.axis[0]?t.filter((function(e){var a=e.nation;return-1!==["Italy","Finland","Japan","Germany","Axis Neutral/Instalations"].indexOf(a)})):t.filter((function(e){return-1!==l.axis.indexOf(e.nation)})),i=0;for(var h=function(){i++;var e=Math.floor(Math.random()*a.length);if(c+a[e].points>r)a.splice(e,1);else{var n=0,l=o.axis.filter((function(t){return t.name==a[e].name}));console.log(o.allies),console.log(a[e].name),console.log(l),l.length>0&&(n=l.length);var s=t.filter((function(t){return t.name==a[e].name}));(s=s[0].number_available)==n?a.splice(e,1):0===n?(m(a[e].name,"axis"),p("axis",a[e].points),c+=a[e].points,o.axis.push({name:a[e].name,secretName:a[e].name+" 0",locked:!1})):(m(a[e].name,"axis"),p("axis",a[e].points),c+=a[e].points,o.axis.push({name:a[e].name,secretName:a[e].name+" ".concat(n),locked:!1}))}};c<r&&a.length>0&&i<10*t.length;)h()}()}},"RANDOM"),i.a.createElement("button",{className:"RESET",onClick:function(e){return function(e){u(),p("allies",-s),p("axis",-c);var a=0,n=0;o.allies.forEach((function(e){var n=t.filter((function(a){return a.name===e.name}));a+=n[0].points})),o.axis.forEach((function(e){var a=t.filter((function(a){return a.name===e.name}));n+=a[0].points})),p("allies",a),p("axis",n)}()}},"RESET"))})),N=t(36),v=t.n(N),y=Object(c.b)(null,{addShips:function(e){return function(a){a({payload:e,type:"ADD_SHIP"})}}})((function(e){var a=[];return Object(n.useEffect)((function(){v()("input[type=radio]").each((function(e){v()(this).attr("name",e+""),a.push(!1)})),v()("input[type=radio]").click((function(t){var n=[],i=parseInt(v()(this).prop("name"));if(0===i)for(var l=1;l<12;l++)v()("[name=".concat(l+"","]")).prop("checked",!1),a[l]=!1;else if(12===i)for(var s=13;s<a.length;s++)v()("[name=".concat(s+"","]")).prop("checked",!1),a[s]=!1;else i<12?(v()("[name=0]").prop("checked",!1),a[0]=!1):(v()("[name=12]").prop("checked",!1),a[12]=!1);a[i]=!a[i],a[i]||v()(this).prop("checked",!1),a.forEach((function(e,a){if(!0===e){var t,i=v()("[name=".concat(a,"]")).parent().text();t=a<12?"allies":"axis",n.push({country:i,faction:t})}})),e.addShips(n)}))}),[]),i.a.createElement("div",{className:"allies-wrapper"},i.a.createElement("div",{className:"allies-text-wrapper"},i.a.createElement("h4",{className:"allies-text"},"Allies Faction")),i.a.createElement("div",{className:"allies-items"},i.a.createElement("label",{className:"container",id:"all","aria-checked":"false"},"All",i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"})),i.a.createElement("label",{className:"container",id:"france"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"France"),i.a.createElement("label",{className:"container",id:"new-zealand"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"New Zealand"),i.a.createElement("label",{className:"container",id:"united-kingdom"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"United Kingdom"),i.a.createElement("label",{className:"container",id:"australia"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Australia"),i.a.createElement("label",{className:"container",id:"greece"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Greece"),i.a.createElement("label",{className:"container",id:"poland"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Poland"),i.a.createElement("label",{className:"container",id:"united-states"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"United States"),i.a.createElement("label",{className:"container",id:"canada"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Canada"),i.a.createElement("label",{className:"container",id:"netherlands"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Netherlands"),i.a.createElement("label",{className:"container",id:"soviet-union"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Soviet Union"),i.a.createElement("label",{className:"container",id:"neutral"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Allies Neutral / Instalations")))})),x=function(e){return i.a.createElement("div",{className:"axis-wrapper"},i.a.createElement("div",{className:"axis-text-wrapper"},i.a.createElement("h4",{className:"axis-text"},"Axis Faction")),i.a.createElement("div",{className:"axis-items"},i.a.createElement("label",{className:"container",id:"all"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"All"),i.a.createElement("label",{className:"container",id:"italy"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Italy"),i.a.createElement("label",{className:"container",id:"finland"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Finland"),i.a.createElement("label",{className:"container",id:"japan"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Japan"),i.a.createElement("label",{className:"container",id:"germany"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Germany"),i.a.createElement("label",{className:"container",id:"neutral"},i.a.createElement("input",{type:"radio"}),i.a.createElement("span",{className:"checkmark"}),"Axis Neutral / Instalations")))},g=t(35),k=t(110),O=t.n(k),j=Object(c.b)((function(e){return{allies:e.userSelection.allies,axis:e.userSelection.axis,allShips:e.allShips,shipsInPlay:[].concat(Object(g.a)(e.shipsInPlay.allies),Object(g.a)(e.shipsInPlay.axis)),alliesPoints:e.factionPoints.allies,axisPoints:e.factionPoints.axis,maxPoints:e.points}}),{loadOneShip:u,updateOneShip:d,setFactionPoints:E})((function(e){var a=e.allies,t=e.axis,l=e.faction,s=e.shipsInPlay,c=e.allShips,r=e.loadOneShip,p=(e.updateOneShip,e.setFactionPoints),u=e.alliesPoints,d=e.axisPoints,h=e.maxPoints,E=Object(n.useState)([]),b=Object(f.a)(E,2),N=b[0],v=b[1],y=Object(n.useState)([]),x=Object(f.a)(y,2),k=x[0],j=x[1],S={},P=["Italy","Finland","Japan","Germany","Axis Neutral/Installations"];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="axis"===l?t:a,e.next=3,O.a.post("/ships/selected",{ships:n,faction:l},{headers:{"Content-Type":"application/json"}});case 3:i=e.sent,v(i.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){}),[k]),Object(n.useEffect)((function(){!function(){N.forEach((function(e){-1==Object.keys(S).indexOf(e.nation)?S[e.nation]=[{name:e.name,number_available:e.number_available,class:e.class,points:e.points}]:S[e.nation].push({name:e.name,number_available:e.number_available,class:e.class,points:e.points})}));var e=[],a=["B","CV","C","D","PB","S","AP","A","AC"];Object.keys(S).forEach((function(t){var n=S[t];n.sort((function(e,t){return-1!==a.indexOf(e.class)&&-1!==a.indexOf(t.class)?a.indexOf(e.class)-a.indexOf(t.class)==0?e.points-t.points==0?e.name-t.name:e.points-t.points:a.indexOf(e.class)-a.indexOf(t.class):void 0})),e.push({nation:t,ships:n})})),j([].concat(Object(g.a)(k),e))}()}),[N]);var w=0;function A(e,a){var t=k.filter((function(e){if(e.nation===a)return e}));t=t[0].ships;var n=e.target.parentNode.querySelector("[name=ship]").textContent,i=s.filter((function(e){return e.name===n}));if(0===i.length){var l,o=c.filter((function(e){return e.name===n}));o=o[0],l=-1==P.indexOf(o.nation)?"allies":"axis",o=o.points,"allies"===l?u+o<=h&&(r(n,l),p(l,o)):d+o<=h&&(r(n,l),p(l,o))}else{var m=i.length,f=c.filter((function(e){return e.name===n}));if(m<(f=f[0].number_available)){var E,b=c.filter((function(e){return e.name===n}));b=b[0],E=-1==P.indexOf(b.nation)?"allies":"axis",b=b.points,"allies"==E?u+b<=h&&(r(n,E),p(E,b)):d+b<=h&&(r(n,E),p(E,b))}}}return i.a.createElement("div",{id:"add-ship"},i.a.createElement("div",{id:"ship-content"},"allies"===l?k.map((function(e){return i.a.createElement("div",{className:"ship-wrapper",id:"allies-ship-wrapper"},i.a.createElement("p",{key:w++,className:"header-text"},e.nation),e.ships.map((function(a){var t=s.filter((function(e){return e.name===a.name})),l=t.length>0?a.number_available-t.length:a.number_available;return l>0?i.a.createElement("div",{className:"ship-content-holder",onClick:function(a){return A(a,e.nation)}},i.a.createElement("p",{key:w++,name:"ship",className:"ship"},a.name),i.a.createElement("p",{key:w++,name:"class",className:"class"},"Class: ",a.class?a.class:"N/A"),i.a.createElement("p",{key:w++,name:"number-available",className:"number-available"},"Qty: ",l),i.a.createElement("p",{key:w++,name:"point-value",className:"point-value"},"Pts: ",a.points)):i.a.createElement(n.Fragment,null)})))})):k.map((function(e){return i.a.createElement("div",{className:"ship-wrapper",id:"axis-ship-wrapper"},i.a.createElement("p",{key:w++,className:"header-text"},e.nation),e.ships.map((function(a){var t=s.filter((function(e){return e.name===a.name})),l=t.length>0?a.number_available-t.length:a.number_available;return l>0?i.a.createElement("div",{className:"ship-content-holder",onClick:function(a){return A(a,e.nation)}},i.a.createElement("p",{key:w++,name:"ship",className:"ship"},a.name),i.a.createElement("p",{key:w++,name:"class",className:"class"},"Class: ",a.class?a.class:"N/A"),i.a.createElement("p",{key:w++,name:"number-available",className:"number-available"},"Qty: ",l),i.a.createElement("p",{key:w++,name:"point-value",className:"point-value"},"Pts: ",a.points)):i.a.createElement(n.Fragment,null)})))}))))})),S=t(11),P=Object(c.b)((function(e){return{alliesShips:e.shipsInPlay.allies,axisShips:e.shipsInPlay.axis,allShips:e.allShips}}),{toggleLock:function(e,a){return function(t){t({payload:{ship:e,faction:a},type:"TOGGLE_LOCK"})}},removeOneShip:function(e){return function(){var a=Object(m.a)(o.a.mark((function a(t){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log(e),t({payload:e,type:"REMOVE_ONE_SHIP"});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setFactionPoints:E})((function(e){var a=e.alliesShips,t=e.axisShips,l=e.faction,s=e.allShips,c=e.toggleLock,r=e.removeOneShip,o=e.setFactionPoints,m=[],p=[];function u(e){if(-1==Array.from(e.target.classList).indexOf("fa")){var a=e.target.getAttribute("name");c(a,"allies");var t=e.target.querySelector("input");t&&(t.checked=!t.checked)}}function d(e){if(-1==Array.from(e.target.classList).indexOf("fa")){var a=e.target.getAttribute("name");console.log(a),c(a,"axis");var t=e.target.querySelector("input");t&&(t.checked=!t.checked)}}function h(e){var a=e.target.getAttribute("name");r({name:e.target.getAttribute("name")});var t=a.split(" ");t.splice(t.length-1,1),t=t.join(" "),console.log(t);var n=s.filter((function(e){return e.name===t}));n=n[0],console.log(n);-1!==["Italy","Finland","Japan","Germany","Axis Neutral/Instalations"].indexOf(n.nation)?o("axis",-n.points):o("allies",-n.points)}Object(n.useEffect)((function(){document.querySelectorAll("inputs[class=no-pointer")}),[a,t]),s.forEach((function(e){a.forEach((function(a){a.name===e.name&&"Axis Neutral / Instalations"!==e.nation&&m.push(Object(S.a)(Object(S.a)({},e),{},{secretName:a.secretName,locked:a.locked}))})),t.forEach((function(a){a.name===e.name&&"Allies Neutral / Instalations"!==e.nation&&p.push(Object(S.a)(Object(S.a)({},e),{},{secretName:a.secretName,locked:a.locked}))}))}));var f=0;return i.a.createElement("div",{className:"display-ship-wrapper"},"allies"===l?m.map((function(e){return e.image?i.a.createElement("div",{key:f++,className:"ship-wrapper",name:e.secretName,onClick:function(e){return u(e)}},i.a.createElement("span",{key:f++,className:"no-pointer"},"Lock: "),i.a.createElement("input",{key:f++,className:"no-pointer",name:e.secretName,type:"checkbox",checked:e.locked}),i.a.createElement("i",{name:e.secretName,className:"fa fa-trash delete",onClick:function(e){return h(e)}}),i.a.createElement("div",{key:f++,className:"ship-placard no-pointer"},i.a.createElement("img",{key:f++,className:"image-ship-placard no-pointer",src:e.image,alt:e.name,crossOrigin:"anonymous"}))):i.a.createElement("div",{key:f++,className:"ship-wrapper",name:e.secretName,onClick:function(e){return u(e)}},i.a.createElement("span",{key:f++,className:"no-pointer"},"Lock: "),e.locked?i.a.createElement("input",{key:f++,className:"no-pointer",name:e.secretName,type:"checkbox",checked:!0}):i.a.createElement("input",{key:f++,className:"no-pointer",name:e.secretName,type:"checkbox"}),i.a.createElement("i",{name:e.secretName,className:"fa fa-trash delete",onClick:function(e){return h(e)}}),i.a.createElement("div",{key:f++,className:"ship-placard no-pointer"},i.a.createElement("h3",{key:f++,className:"no-pointer"},e.name),i.a.createElement("h5",{key:f++,className:"no-pointer"},e.nation),i.a.createElement("h5",{key:f++,className:"no-pointer"},e.points)))})):p.map((function(e){return e.image?i.a.createElement("div",{key:f++,className:"ship-wrapper",name:e.secretName,onClick:function(e){return d(e)}},i.a.createElement("span",{key:f++,className:"no-pointer"},"Lock: "),e.locked?i.a.createElement("input",{key:f++,className:"no-pointer",name:e.secretName,type:"checkbox",checked:!0}):i.a.createElement("input",{key:f++,className:"no-pointer",name:e.secretName,type:"checkbox"}),i.a.createElement("i",{name:e.secretName,className:"fa fa-trash delete",onClick:function(e){return h(e)}}),i.a.createElement("div",{key:f++,className:"ship-placard no-pointer"},i.a.createElement("img",{key:f++,className:"image-ship-placard no-pointer",src:e.image,alt:e.name,crossOrigin:"anonymous"}))):i.a.createElement("div",{key:f++,className:"ship-wrapper",name:e.secretName,onClick:function(e){return d(e)}},i.a.createElement("span",{key:f++,className:"no-pointer"},"Lock: "),e.locked?i.a.createElement("input",{key:f++,className:"no-pointer",name:e.secretName,type:"checkbox",checked:!0}):i.a.createElement("input",{key:f++,className:"no-pointer",name:e.secretName,type:"checkbox"}),i.a.createElement("i",{name:e.secretName,className:"fa fa-trash delete",onClick:function(e){return h(e)}}),i.a.createElement("div",{key:f++,className:"ship-placard no-pointer"},i.a.createElement("h3",{key:f++,className:"no-pointer"},e.name),i.a.createElement("h5",{key:f++,className:"no-pointer"},e.nation),i.a.createElement("h5",{key:f++,className:"no-pointer"},e.points)))})))})),w=t(18),A=w.e.create({page:{flexDirection:"column"},headSection:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"5%",fontSize:"12"},section:{width:"100vw",justifyContent:"space-evenly",alignItems:"center",display:"flex",flexDirection:"row",flexWrap:"wrap",margin:"10px",marginLeft:"40px"},pageNumber:{position:"absolute",bottom:"3",right:"3",padding:"15px",fontSize:"12"}}),I=function(e){var a=new Date,t=a.getDate(),n=a.getMonth()+1,l=a.getFullYear();l+="";return i.a.createElement(w.a,{onRender:function(){!1}},i.a.createElement(w.d,{size:"A4",style:A.page},i.a.createElement(w.g,{style:A.headSection,fixed:!0},i.a.createElement(w.f,null,"Faction: ","allies"===e.faction?"Allies":"Axis"),i.a.createElement(w.f,null,"Points: ",e.sidePoints,"/",e.totalPoints),i.a.createElement(w.f,null,"Date: ",n+"","/",t+"","/",l.substring(2)+"")),i.a.createElement(w.g,{style:A.pageNumber,fixed:!0},i.a.createElement(w.f,{render:function(e){var a=e.pageNumber,t=e.totalPages;return"".concat(a," / ").concat(t)},fixed:!0})),i.a.createElement(w.g,{style:A.section},e.ships.map((function(a,t){return t%6==0&&e.ships.length>t||a.image?i.a.createElement(w.g,null,i.a.createElement(w.b,{style:{height:"239px",width:"170px",padding:"10px"},src:a.image})):i.a.createElement(w.g,null)})))))},C=Object(c.b)((function(e){return{alliesShips:e.shipsInPlay.allies,axisShips:e.shipsInPlay.axis,allShips:e.allShips}}),{})((function(e){var a=e.alliesShips,t=e.axisShips,n=e.allShips,l=e.faction,s=[],c=[];n.forEach((function(e){a.forEach((function(a){a.name===e.name&&"Axis Neutral / Instalations"!==e.nation&&s.push(Object(S.a)(Object(S.a)({},e),{},{secretName:a.secretName,locked:a.locked}))})),t.forEach((function(a){a.name===e.name&&"Allies Neutral / Instalations"!==e.nation&&c.push(Object(S.a)(Object(S.a)({},e),{},{secretName:a.secretName,locked:a.locked}))}))}));var r="allies"==l?s:c;return i.a.createElement(w.c,{document:i.a.createElement(I,{sidePoints:e.sidePoints,totalPoints:e.totalPoints,ships:r,faction:l}),fileName:l+".pdf"},(function(e){e.blob,e.url;var a=e.loading;e.error;return a?"Loading document...":i.a.createElement("i",{className:"fa fa-file-pdf-o"})}))})),_=(t(119),t(451),t(91),Object(c.b)((function(e){return{points:e.points,alliesPoints:e.factionPoints.allies}}),{})((function(e){var a=e.points,t=e.alliesPoints,l=Object(n.useState)(!1),s=Object(f.a)(l,2),c=s[0],r=s[1];return i.a.createElement("div",{className:"allies-list-wrapper",id:"allies-container"},i.a.createElement("div",{className:"allies-list-header-wrapper"},i.a.createElement("div",{className:"text-wrapper"},i.a.createElement("h4",null,"Allies list"),i.a.createElement("p",null,t," / ",a)),i.a.createElement("div",{className:"save-options"},i.a.createElement(C,{id:"download",totalPoints:a,sidePoints:t,faction:"allies"}))),i.a.createElement("div",{className:"line"},i.a.createElement("hr",null)),i.a.createElement("div",{className:"add-unit"},i.a.createElement(P,{faction:"allies"}),i.a.createElement("p",{onClick:function(e){r(!c)}},"[",c?"-":"+","] Add Unit"),c&&i.a.createElement(j,{faction:"allies"})))}))),D=Object(c.b)((function(e){return{points:e.points,axisPoints:e.factionPoints.axis}}),{})((function(e){var a=e.points,t=e.axisPoints,l=Object(n.useState)(!1),s=Object(f.a)(l,2),c=s[0],r=s[1];return i.a.createElement("div",{className:"axis-list-wrapper",id:"axis-container"},i.a.createElement("div",{className:"axis-list-header-wrapper"},i.a.createElement("div",{className:"text-wrapper"},i.a.createElement("h4",null,"Axis list"),i.a.createElement("p",null,t," / ",a)),i.a.createElement("div",{className:"save-options"},i.a.createElement(C,{id:"download",totalPoints:a,sidePoints:t,faction:"axis"}))),i.a.createElement("div",{className:"line"},i.a.createElement("hr",null)),i.a.createElement("div",{className:"add-unit"},i.a.createElement(P,{faction:"axis"}),i.a.createElement("p",{onClick:function(e){r(!c)}},"[",c?"-":"+","] Add Unit"),c&&i.a.createElement(j,{faction:"axis"})))})),F=t(79),T=t(110),L=t(36),G=Object(c.b)((function(e){return{allShips:e.allShips}}),{})((function(e){var a=e.allShips,t=Object(n.useState)({nation:"",units:"",name:"",points:"",class:"",image:""}),l=Object(f.a)(t,2),s=l[0],c=l[1],r=Object(n.useState)(!0),p=Object(f.a)(r,2),u=p[0],d=p[1],h=Object(n.useState)({nation:"",units:"",name:"",points:"",class:"",image:""}),E=Object(f.a)(h,2),b=E[0],N=E[1],v=Object(n.useState)({name:""}),y=Object(f.a)(v,2),x=y[0],g=y[1];Object(n.useEffect)((function(){}),[b]);var k=Object(n.useState)("new ship"),O=Object(f.a)(k,2),j=O[0],P=O[1];function w(e){return A.apply(this,arguments)}function A(){return(A=Object(m.a)(o.a.mark((function e(a){var t,n,i,l,c,r,m,p,d,h,f,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),u){e.next=66;break}if("new ship"!==j){e.next=35;break}if(""===s.name||""===s.nation||""===s.units||""===s.points){e.next=32;break}if(t={headers:{"Content-Type":"application/json"}},e.prev=5,n=s,i=new FormData,!(l=document.getElementById("new-image")).files[0]){e.next=21;break}return i.append("image",l.files[0],l.files[0].name),e.next=13,T.post("/ships/ship-url",i);case 13:return r=e.sent,c=r.data,n.image=c,e.next=18,T.put("/ships",n,t);case 18:alert("Ship added with image"),e.next=24;break;case 21:return e.next=23,T.put("/ships",n,t);case 23:alert("Ship added with no image");case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(5),console.log(e.t0),alert("Error adding new ship");case 30:e.next=33;break;case 32:alert("Info not filled out completely");case 33:e.next=66;break;case 35:if("delete ship"!==j){e.next=47;break}return e.prev=36,e.next=39,T.delete("/ships/ship",{data:x},{headers:{"Content-Type":"application/json"}});case 39:alert("Successfully deleted "+x.name),e.next=45;break;case 42:e.prev=42,e.t1=e.catch(36),alert("Error deleting "+x.name);case 45:e.next=66;break;case 47:if(m=new FormData,p=document.getElementById("update-image"),h={headers:{"Content-Type":"application/json"}},!p.files[0]){e.next=63;break}return m.append("image",p.files[0],p.files[0].name),e.next=54,T.post("/ships/ship-url",m);case 54:return f=e.sent,d=f.data,(E=b).image=d,e.next=60,T.put("/ships/update",E,h);case 60:alert("Update complete"),e.next=66;break;case 63:return e.next=65,T.put("/ships/update",b,h);case 65:alert("Update complete");case 66:case"end":return e.stop()}}),e,null,[[5,26],[36,42]])})))).apply(this,arguments)}function I(e){c(Object(S.a)(Object(S.a)({},s),{},Object(F.a)({},e.target.name,e.target.value)))}function C(e){N(Object(S.a)(Object(S.a)({},b),{},Object(F.a)({},e.target.name,e.target.value)))}return L(document).ready((function(){L("#add-new-ship").unbind().click((function(){P("new ship"),L(this).hasClass("non-selected")&&(L(this).removeClass("non-selected"),L("#update-existing-ship").addClass("non-selected"),L("#delete-existing-ship").addClass("non-selected"))})),L("#update-existing-ship").unbind().click((function(){P("update ship"),L(this).hasClass("non-selected")&&(L(this).removeClass("non-selected"),L("#add-new-ship").addClass("non-selected"),L("#delete-existing-ship").addClass("non-selected"))})),L("#delete-existing-ship").unbind().click((function(){P("delete ship"),L(this).hasClass("non-selected")&&(L(this).removeClass("non-selected"),L("#add-new-ship").addClass("non-selected"),L("#update-existing-ship").addClass("non-selected"))}))})),i.a.createElement("form",{className:"db-container",onSubmit:function(){var e=Object(m.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},i.a.createElement("div",{className:"db-container-banner"},i.a.createElement("div",{className:"db-container-text-options"},i.a.createElement("h3",{className:"db-container-header",id:"add-new-ship"},"Add a new ship"),i.a.createElement("h3",{className:"db-container-header non-selected",id:"update-existing-ship"},"Update Existing Ship"),i.a.createElement("h3",{className:"db-container-header non-selected",id:"delete-existing-ship"},"Delete Existing Ship")),i.a.createElement("hr",null)),u?i.a.createElement("div",{className:"authorization-block"},i.a.createElement("h1",{className:"authorization-header"},"Not Authorized"),i.a.createElement("h4",{className:"authorization-sub-text"},"Please enter a valid password to modify the database"),i.a.createElement("div",{className:"password-entry"},i.a.createElement("input",{className:"authorization-password",id:"auth-pass",type:"password",placeholder:"Password"}),i.a.createElement("button",{className:"authorization-submit",onClick:function(e){"floatilla"===document.getElementById("auth-pass").value?(d(!1),document.getElementById("auth-pass").value=""):(alert("Invalid Password"),document.getElementById("auth-pass").value="")}},"Submit"))):i.a.createElement("div",{className:"specifications"},"new ship"===j?i.a.createElement(n.Fragment,null,i.a.createElement("input",{placeholder:"Nation",name:"nation",value:s.nation,onChange:function(e){return I(e)}}),i.a.createElement("input",{placeholder:"Number of units available",type:"number",name:"units",value:s.units,onChange:function(e){return I(e)}}),i.a.createElement("input",{placeholder:"Ship name",name:"name",value:s.name,onChange:function(e){return I(e)}}),i.a.createElement("input",{placeholder:"Points Value/Unit",name:"points",type:"number",value:s.points,onChange:function(e){return I(e)}}),i.a.createElement("input",{placeholder:"Ship class",name:"class",value:s.class,onChange:function(e){return I(e)}}),i.a.createElement("input",{type:"file",name:"image",id:"new-image",onChange:function(e){return I(e)}}),i.a.createElement("input",{type:"submit",className:"database-submit",placeholder:"submit"})):"update ship"===j?i.a.createElement(n.Fragment,null,i.a.createElement("label",{htmlFor:"ships"},"Choose the name of the ship to modify"),i.a.createElement("select",{id:"ship-selector",name:"ships",onChange:function(e){return function(e){var t=e.target.value,n=a.filter((function(e){return e.name===t}));n=n[0],N(Object(F.a)({nation:n.nation,class:n.class,points:n.points,units:n.number_available,name:n.name,image:n.image?n.image:""},"class",n.class?n.class:""))}(e)}},a.map((function(e){return i.a.createElement("option",{value:e.name},e.name)}))),i.a.createElement("label",{for:"nation"},"Nation: "),i.a.createElement("input",{placeholder:"Nation",name:"nation",value:b.nation,onChange:function(e){return C(e)}}),i.a.createElement("label",{for:"units"},"Number Available: "),i.a.createElement("input",{placeholder:"Number available",name:"units",value:b.units,onChange:function(e){return C(e)}}),i.a.createElement("label",{for:"points"},"Points: "),i.a.createElement("input",{placeholder:"Points",name:"points",value:b.points,onChange:function(e){return C(e)}}),i.a.createElement("label",{for:"class"},"Class: "),i.a.createElement("input",{placeholder:"Class",name:"class",value:b.class,onChange:function(e){return C(e)}}),b.image?i.a.createElement("img",{className:"existing-image",src:b.image,alt:"ship image here"}):i.a.createElement("label",null,"No image for ",b.name),i.a.createElement("input",{placeholder:"Image",type:"file",name:"image",id:"update-image"}),i.a.createElement("input",{type:"submit",className:"database-submit",placeholder:"submit"})):i.a.createElement(n.Fragment,null,i.a.createElement("label",{htmlFor:"ships"},"Choose the name of the ship to delete"),i.a.createElement("select",{id:"ship-selector",name:"ships",onChange:function(e){return function(e){var a=e.target.value;g(Object(S.a)(Object(S.a)({},x),{},{name:a}))}(e)}},a.map((function(e){return i.a.createElement("option",{value:e.name},e.name)}))),i.a.createElement("input",{type:"submit",className:"database-submit",placeholder:"submit"}))))})),H=(t(452),t(58)),M=t(242),U=t(243),z={allies:[],axis:[]},R={allies:0,axis:0},q={axis:[],allies:[]},B=[],J=Object(H.combineReducers)({userSelection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"ADD_SHIP":return e.axis=[],e.allies=[],n.forEach((function(a){e="axis"===a.faction?"All"===a.country?Object(S.a)(Object(S.a)({},e),{},{axis:["All"]}):Object(S.a)(Object(S.a)({},e),{},{axis:[].concat(Object(g.a)(e.axis),[a.country])}):"All"===a.country?Object(S.a)(Object(S.a)({},e),{},{allies:["All"]}):Object(S.a)(Object(S.a)({},e),{},{allies:[].concat(Object(g.a)(e.allies),[a.country])})})),e;default:return Object(S.a)({},e)}},points:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,t=a.payload,n=a.type;switch(n){case"SET_POINTS":return""==t?0:Number(t);default:return e}},factionPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0,t=a.payload,n=a.type;switch(n){case"SET_ALLIES_POINTS":return Object(S.a)(Object(S.a)({},e),{},{allies:e.allies+t});case"SET_AXIS_POINTS":return Object(S.a)(Object(S.a)({},e),{},{axis:e.axis+t});default:return e}},shipsInPlay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"REMOVE_ONE_SHIP":var i=e;return console.log(n.name),i.allies=i.allies.filter((function(e){return e.secretName!==n.name})),i.axis=i.axis.filter((function(e){return e.secretName!==n.name})),i.allies||(i.allies=[]),i.axis||(i.axis=[]),i;case"REMOVE_SHIP":var l=e;return l.allies=l.allies.filter((function(e){return 1==e.locked})),l.axis=l.axis.filter((function(e){return 1==e.locked})),l.allies||(l.allies=[]),l.axis||(l.axis=[]),l;case"TOGGLE_LOCK":var s=e;return"allies"==n.faction?s.allies=s.allies.map((function(e){return e.secretName==n.ship?Object(S.a)(Object(S.a)({},e),{},{locked:!e.locked}):Object(S.a)({},e)})):s.axis=s.axis.map((function(e){return e.secretName==n.ship?Object(S.a)(Object(S.a)({},e),{},{locked:!e.locked}):Object(S.a)({},e)})),s;case"LOAD_ONE_SHIP":if("axis"==n.faction){var c=n.ship;return c+=" "+e.axis.filter((function(e){return e.name===n.ship})).length,Object(S.a)(Object(S.a)({},e),{},{axis:[].concat(Object(g.a)(e.axis),[{name:n.ship,secretName:c,locked:!1}])})}var r=n.ship;return r+=" "+e.allies.filter((function(e){return e.name===n.ship})).length,Object(S.a)(Object(S.a)({},e),{},{allies:[].concat(Object(g.a)(e.allies),[{name:n.ship,secretName:r,locked:!1}])});case"UPDATE_ONE_SHIP":var o=e;return o.allies=o.allies.map((function(e){if(e.name!==n.ship)return e;var a=e.quantity+1;return Object(S.a)(Object(S.a)({},e),{},{quantity:a})})),o.axis=o.axis.map((function(e){if(e.name!==n.ship)return e;var a=e.quantity+1;return Object(S.a)(Object(S.a)({},e),{},{quantity:a})})),o;default:return e}},allShips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,a=arguments.length>1?arguments[1]:void 0,t=a.payload,n=a.type;switch(n){case"LOAD_IN_SHIPS":return e.push.apply(e,Object(g.a)(t.allies)),e.push.apply(e,Object(g.a)(t.axis)),e;default:return e}}}),V=[U.a],K=Object(H.createStore)(J,{},Object(M.composeWithDevTools)(H.applyMiddleware.apply(void 0,V)));var W=function(){return i.a.createElement(c.a,{store:K},i.a.createElement("div",{className:"App"},i.a.createElement(h,null),i.a.createElement("div",{className:"game-preference-wrapper"},i.a.createElement(b,null),i.a.createElement(y,null),i.a.createElement(x,null)),i.a.createElement("div",{className:"card-results"},i.a.createElement(_,null),i.a.createElement(D,null)),i.a.createElement(G,null)))};w.e.create({page:{flexDirection:"row"},image:{width:"50%",padding:10},section:{flexGrow:"1"}});s.a.render(i.a.createElement(W,null),document.getElementById("root"))}},[[246,1,2]]]);
//# sourceMappingURL=main.dc65fea8.chunk.js.map